fragment_downloaded_cb({"url": "Custom-build-targets.html#page-description", "fragment": "<div id=\"page-description\" data-hotdoc-source=\"Custom-build-targets.md\">\n<h1 id=\"custom-build-targets\">Custom build targets</h1>\n<p>While Meson tries to support as many languages and tools as possible, there is no possible way for it to cover all corner cases. For these cases it permits you to define custom build targets. Here is how one would use it.</p>\n<pre><code class=\"language-meson\">comp = find_program('custom_compiler')\n\ninfile = 'source_code.txt'\noutfile = 'output.bin'\n\nmytarget = custom_target('targetname',\n  output : 'output.bin',\n  input : 'source_code.txt'\n  command : [comp, '@INPUT@', '@OUTPUT@'],\n  install : true,\n  install_dir : 'subdir')\n</code></pre>\n<p>This would generate the binary <code>output.bin</code> and install it to <code>${prefix}/subdir/output.bin</code>. Variable substitution works just like it does for source generation.</p>\n<h2 id=\"details-on-compiler-invocations\">Details on compiler invocations</h2>\n<p>Meson only permits you to specify one command to run. This is by design as writing shell pipelines into build definition files leads to code that is very hard to maintain. If your compilation requires multiple steps you need to write a wrapper script that does all the necessary work. When doing this you need to be mindful of the following issues:</p>\n<ul>\n<li>do not assume that the command is invoked in any specific directory</li>\n<li>a target called <code>target</code> file <code>outfile</code> defined in subdir <code>subdir</code> must be written to <code>build_dir/subdir/foo.dat</code></li>\n<li>if you need a subdirectory for temporary files, use <code>build_dir/subdir/target.dir</code></li>\n</ul>\n\n</div>\n\n\n        "});