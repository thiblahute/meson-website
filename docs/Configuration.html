<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Configuration</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/navigation.js"></script>


<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>


<title>The MesonÂ® Build System</title>
<link rel="icon" type="image/png" href="images/favicon.png">
<link rel="shortcut icon" href="images/favicon.png">

</head>

<body data-spy="scroll" data-target=".scrollspy" data-offset="70">

<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a id="home-link" class="hotdoc-navbar-brand">
				<p style="font-size: 20px"><img src="images/meson_logo.png" alt="Home" id="home">  The meson build system</p>
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<form action="" class="navbar-form navbar-right">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
                                       <span class="glyphicon glyphicon-search form-control-feedback"></span>
                               </div>
                       </form>

		</div>
	</div>
</nav>

<main class="page-row page-row-expanded">
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation-1.0" data-hotdoc-ref="Configuration.html" class="page_container" id="page-wrapper">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2" id="sidenav-column">
	<div class="panel panel-collapse" id="sidenav" data-hotdoc-role="navigation">
		<div id="sitenav-wrapper" class="mCustomScrollbar" data-mcs-theme="minimal">
			<div class="sidenav-main-panel-body">
				<div id="site-navigation">
				</div>
			</div>
		</div>
	</div>
</div>

<div class="col-sm-12 col-md-9 col-xl-8">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="Configuration.md">
<h1 id="configuration">Configuration</h1>
<p>If there are multiple configuration options, passing them through compiler flags becomes very burdensome. It also makes the configuration settings hard to inspect. To make things easier, Meson supports the generation of configure files. This feature is similar to one found in other build systems such as CMake.</p>
<p>Suppose we have the following Meson snippet:</p>
<pre><code class="language-meson">conf_data = configuration_data()
conf_data.set('version', '1.2.3')
configure_file(input : 'config.h.in',
               output : 'config.h',
               configuration : conf_data)
</code></pre>
<p>and that the contents of <code>config.h.in</code> are</p>
<pre><code class="language-c">#define VERSION_STR "@version@"
</code></pre>
<p>Meson will then create a file called <code>config.h</code> in the corresponding build directory whose contents are the following.</p>
<pre><code class="language-c">#define VERSION_STR "1.2.3"
</code></pre>
<p>More specifically, Meson will find all strings of the type <code>@varname@</code> and replace them with respective values set in <code>conf_data</code>. You can use a single <code>configuration_data</code> object as many times as you like, but it becomes immutable after the first use. That is, after it has been used once the <code>set</code> function becomes unusable and trying to call it causes an error.</p>
<p>For more complex configuration file generation Meson provides a second form. To use it, put a line like this in your configuration file.</p>
<pre><code>#mesondefine TOKEN
</code></pre>
<p>The replacement that happens depends on what the value and type of TOKEN is:</p>
<pre><code class="language-c">#define TOKEN     // If TOKEN is set to boolean true.
#undef TOKEN      // If TOKEN is set to boolean false.
#define TOKEN 4   // If TOKEN is set to an integer or string value.
/* undef TOKEN */ // If TOKEN has not been set to any value.
</code></pre>
<p>Note that if you want to define a C string, you need to do the quoting yourself like this:</p>
<pre><code class="language-meson">conf.set('TOKEN', '"value"')
</code></pre>
<p>Since this is such a common operation, Meson provides a convenience method:</p>
<pre><code class="language-meson">plain_var = 'value'
conf.set_quoted('TOKEN', plain_var) # becomes #define TOKEN "value"
</code></pre>
<p>Often you have a boolean value in Meson but need to define the C/C++ token as 0 or 1. Meson provides a convenience function for this use case.</p>
<pre><code class="language-meson">conf.set10(token, boolean_value)
# The line above is equivalent to this:
if boolean_value
  conf.set(token, 1)
else
  conf.set(token, 0)
endif
</code></pre>
<h2 id="configuring-without-an-input-file">Configuring without an input file</h2>
<p>If the input file is not defined then Meson will generate a header file all the entries in the configuration data object. The replacements are the same as when generating <code>#mesondefine</code> entries:</p>
<pre><code class="language-meson">cdata.set('FOO', '"string"') =&gt; #define FOO "string"
cdata.set('FOO', 'a_token')  =&gt; #define FOO a_token
cdata.set('FOO', true)       =&gt; #define FOO
cdata.set('FOO', false)      =&gt; #undef FOO
cdata.set('FOO', 1)          =&gt; #define FOO 1
cdata.set('FOO', 0)          =&gt; #define FOO 0
</code></pre>
<p>In this mode, you can also specify a comment which will be placed before the value so that your generated files are self-documenting.</p>
<pre><code class="language-meson">cdata.set('BAR', true, description : 'Set BAR if it is available')
</code></pre>
<p>Will produce:</p>
<pre><code class="language-c">/* Set BAR if it is available */
#define BAR
</code></pre>

</div>


        <div id="subpages"></div>
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
</div>
<div class="hidden-xs col-xl-2">
</div>
	</div>
</div>
</main>


<footer class="page-row">
	<div class="container-fluid">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2"></div>
		<div class="col-sm-12 col-md-9 col-xl-8">
						
		</div>
		<div class="hidden-xs col-xl-2"></div>
	</div>
</div>
</footer>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>